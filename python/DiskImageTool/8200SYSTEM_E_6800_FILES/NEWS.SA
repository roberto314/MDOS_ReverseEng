**8200SYSTEM†Newsfile**Issue#01===========================================================================**6800MDOS‚3.04NEWS**----------------ADDENDUM‚M68MDOS3(A1):reprint---------------------1.‚WHENCOPYINGFROMUSER-DEFINEDDEVICESTODISKETTEFILESUSING…THECOPYCOMMAND,THEREISNO"HANDSHAKE"PROTOCOLISSUEDWHEN…MDOSISBUSYWRITINGTOTHEDISKFILE.‚THUSDATACOULDBELOST…WHENMDOSISBUSY.‚SUCCESSFULTRANSFERSOFTHISTYPECANONLY…BEACCOMPLISHEDWHENALLOFTHEDATAFITSINSIDETHEDYNAMICALLY…SIZEDBUFFERALLOCATEDBYTHECOPYCOMMAND.‚ALSO,THEUSER…DEVICEDRIVERFILEMUSTENDWITHANOBJECTBYTEGENERATING…DIRECTIVE(I.E.,NOT"RMB").2.‚STARTINGWITHVERSION3.01,THE"DUMP"COMMANDCANBEUSEDTOTRY…ANDCLEARCRCDISKREADERRORS.‚UNDER"DUMP",THEREADSECTOR(R)…COMMANDNOWACTUALLYTRANSFERSWHATWASREADTOTHESECTORCHANGE…BUFFER,EVENIFADISKERROROCCURS.‚THUSREADINGTHEBADSECTOR,…EXAMINING/CHANGINGIT,ANDWRITINGITBACKMAYCLEARTHEERRORIF…THEDISKISNOTPHYSICALLYDAMAGED.3.‚STARTINGWITHVERSION3.02,AN"EP"ERRORWILLOCCURDURING…INITIALIZATIONIFA6809MDOSDISKISINITIALIZEDONA6800…EXORCISERORA6800MDOSDISKISINITIALIZEDONA6809EXORCISER.…FIXEDTOWORKCORRECTLYSTARTINGWITH‚3.03VERSION.4.‚STARTINGWITHVERSION3.02,AN"EM"ERRORNOWCAUSESTHEADDRESS…OFTHEERRORLOCATIONTOBESTOREDINLOCATION$0000.‚THISERROR…LOCATIONCOULDNOTVERIFYEITHER$AAOR$55.‚THEMEMORYSIZING…ROUTINENOWCHECKSMEMORYMORETHOROUGHLYBYSTORING$AAAND…ALSO$55INEACHLOCATIONTOBESUREALLBITSCANBETOGGLEDAND…ALSOCHECKSFORATLEAST16K($0000-3FFF)OFCONTIGUOUSMEMORYTO…BEPRESENT.5.‚SYNTAXERRORSCANOCCURWHENRUNNINGACHAINFILETHATCONTAINS…TRAILINGSPACES.‚THETRAILINGSPACESCANBEGENERATEDWHILE…USINGTHECRTEDITORWITHOUTTHEUSER'SKNOWLEDGE,DEPENDING…UPONTHECOMMANDSEQUENCEENTERED.6.‚WITHVERSION3.02,THEEQUATEFILE("EQU.SA")HASBEENCOSMETICALLY…CHANGED.‚TOSEETHECHANGES,ENTERTHEFOLLOWINGAFTERTHEMDOS…PROMPT(=):“LISTEQU;L‡(FORPRINTER)—OR“LISTEQU‰(FORCONSOLE)-------------------------NEWINFORMATION--------------------------------7.‚Withversion3.04,thedelete(DEL=$7F)orbackspace(BS=$08)keys…willdeletethelastcharacterfromtheinputbufferandalso…eraseitfromaCRTscreenaswellbysendingBS,SPACE,andBS…characters.‚Anycommandorutilitynotusingthe.KEYINroutine…willnotrecognizetheBScharactertodeletethelastentered…characterfromtheCRTscreen.‚Inthiscase,theDELkeymustbe…used.…Achainfile(MDOSMODE.CF)hasbeenprovidedtoalloweasytrans-…formationbetweenCRTandSCROLLmodehandlingofthedelete…characterfunction.‚ListthechainfilebyenteringŠ=LISTMDOSMODE.CF;L‡forprinter‘orŠ=LISTMDOSMODE.CF‰forconsole…forinstructionsonhowtoexecuteit.8.‚Withversion3.04,attheendofasuccessfulFORMATcommandthe…bellisrungandthe"FORMATDRIVEX?"isreissued.‚A"Y"…responsewillstartformatingagain.‚Anyotherresponsewill…terminatethecommandandreturncontrolbacktoMDOS.CorrectionstoEXORdiskII/IIIOPERATINGSYSTEMUser'sGuideM68MDOS3(D2)1.Page26-02,paragraph26.2.1ControllerDescriptorBlock--CDB„Changethediagramwordingforbytes00/01fromˆ"IOCBaddress"ƒtoƒ"(reserved=0)"2.PageG-02,AppendixGDirectoryHashingFunction„Changethe2ndfromthelastsourcecodelinefrom‡"HASH3‚STAB„TMP3"„to„"HASH3‚TBA"„„Thedescriptionatthetopofthepageisthencorrect.------------------------------------------------------------------6800MDOSCUSTOMPATCHES**ChangeMDOS"CTRLW"functionto"CTRLX"(orothervalue)for„handshakingwithhighspeed,bufferedhardcopyconsole„terminal,suchasDecwriterIII.†=PATCHMDOS.SY†>3F1,0/18—(WAS$17=CTRLW)†Q-------------------------------------------------------------------**KNOWNERRORS**‚1.IF.PUTRCISPASSEDABUFFERWITHTRAILINGSPACESANDNOCARRIAGE…RETURNINBUFFER,THETRAILINGSPACESARENOTINCLUDEDASPART…OFTHERECORD.‚INORDERTOBESURETRAILINGSPACESAREINCLUDED,…ACARRIAGERETURNSHOULDBEINSERTEDASTHELASTCHARACTERINTHE…BUFFER.‚(#14)‚2.WHENRUNNINGROLLOUTWITHTHE'V'OPTION,THEFOLLOWINGSEQUENCE…WILLCAUSEADISKERRORTOOCCUR:ŠROLLOUT;VŠLOADADDR=XXXXŠ=(PUSHRESTART)ŠEXBUGY.YMAIDŠ*XXXX;GŠBEGINADDR=AAAAŠENDADDR=BBBBŠAREYOUSURE?YŠDRIVE1SCRATCH?YŠE3…TOAVOIDTHE'E3'ERROR,PRESSABORTINSTEADOFRESTART.‚(#15)‚3.IF.PUTLSOR.PUTRCROUTNEISUSEDTOEXTENDANEXISTINGFILEAND…THEEXTENSIONDOESNOTCAUSEADDITIONALSECTORALLOCATION…(I.E.UNUSEDSECTORSEXISTEDBEYONDTHELOGICALENDOFFILE),…THENEWLYWRITTENSECTORSARENOTINCLUDEDINTHEFILE'SSPACE…UNTILAFTERTHEFILEISCLOSEDANDTHEN,ONLYIFTHETRUNCATEFLAG…HADBEENSETBYTHECALLINGPROGRAM.…ONECONSEQUENCEOFTHISISTHATDATAWRITTENBY.PUTLSINTO…ALLOCATEDSECTORSBEYONDEOFCANNOTBEREADBY.GETLSUNTILA….REWNDOR.CLOSE/.OPENSEQUENCEHASBEENPERFORMED.‚(#16)‚4.WHENRUNNINGROLLOUT,ITISPOSSIBLETOGENERATEA…CONTIGUOUSFILETHATHASFROMONETOTHREEEXTRASECTORSAT…THEENDOFTHEFILETHATDONOTCONTAINDATAFROMTHE…REQUESTEDMEMORYRANGE.(#24)‚5..PFNAMWILLRETURNA"NULLFILENAME"IFAFILENAMEBEGINS…WITHANUMERICDIGIT.‚THESOURCEPOINTERHASBEENADJUSTED…BUTTHEREISNOERRORINDICATOR.(#23)‚6.IFAPERCENTSIGNAPPEARSINANEXECUTION-TIMECOMMENTOFA…CHAINFILE,A"SOURCESYNTAXERROR"ISGENERATED.(#20)‚7.THE"EXBIN"COMMANDHASAMAXIMUMINPUTBUFFERLENGTHOF80CHAR-…ACTERSWHICHMEANSTHATTHEMAXIMUMBYTECOUNTFORANS-RECORD…TYPEFILE(.LX)TOBECONVERTEDIS38($26).‚THISTRANSLATESTO…AMAXIMUMOF35DATABYTES/RECORD.‚RECORDSOVER80CHARACTERS…WILLCAUSEERROR#22,BUFFEROVERFLOW.‚8.UserdefineddevicedriverforCOPYcommandwillnotfunction…with.KEYINunderCHAINoperationduetoconflictinoverlay…region#3withMDOSOV4.SYversusMDOSOV5.SY.**ENDKNOWNERRORS**===========================================================================**6800CRTEDITORNEWS**†(E.CMƒ3.14)CorrectionstoEDITORMRESIDENTEDITORREFERENCEMANUAL-M68EDITORM(D3)andaddendumA1.1.Page1-3,underparagraph1.5,INVOKINGTHEEDITOR,replacefromthe„topofthepagetojustpreceding"TheresponsetotheEcommand..."„withthefollowing:ƒTSspecifiestheinitialtabstopsettings(seesection2.21TAB„COMMAND)fortheEditorasfollows:ˆA„impliesassemblertabs(8,15,24)withthespacebarasaspecialtabcharacterandwherebyan"*"incolumn1willdisablethespecialtabcharacter.ˆC„impliesCOBOLtabs(6,9,12)withthespacebarasaspecialtabcharacter.ˆF„impliesFORTRANtabs(7)withthespacebarasaspecialtabcharacterandwherebya"C"incolumn1willdisablethespecialtabcharacter.FNisthefilenumberingoption.‚AnNimplieseditwithlinenumbers.-Nimplieseditwithoutlinenumbers.‚FNdefaultsto-NfortheCRT-CRT-MODEandtoNfortheSCROLL-MODE.‚IfFILENAME1doesnotexist,itiscreatedaccordingtotheresultingFNvalue(i.e.nolinenumbersfor-N,withlinenumbersforN).‚IfFILENAME1existsandFNrevertstoN,thenthefirstlineofthefilewilldetermineifwearetobeeditingwithlinenumbers.‚If-Nresultswheneditinganexist-ingfilewithlinenumbers,thenthelinenumberswillbetreatedasdata.SspecifiesthattheEditoristoinitializedinthescrollmode,andthattheuseriseditingfromanon-EXORtermtypedevice.‚Withthisoption,theuserisrestrictedtoscrollmodecommandediting.Startingwithversions3.13,auto-mode(CRT/SCROLL)detectionisimplemented.‚ThepresenceofaproperlysetupEXORtermCRTterminalwillcausetheEditortoentertheCRT-MODEofoperation.‚Non-EXORtermterminalswillprintanextra"F"character(readcursorcommand=$C6)afterthesign-onmessageisdisplayedbeforeenteringtheSCROLL-MODE.Thusthe"S"optionisnotrequiredunlesstheuserwishestoforcetheSCROLL-MODEonanEXORtermCRTterminal.WhenSCROLL-MODEisentered,theEditorconfiguresitselfasfollows:ƒ*CRTterminalisassumed:‡1.DELkeydeleteslastenteredcharacterfromtheinputŠbufferandfromtheCRTscreen(viaBS,SPACE,BS).‡2.Thebackspacecharacter(BS=CRTLH=$08)functionsjustŠliketheDELkeyabove.ƒ*Thedefaultlinenumberingoption(FN)ischangedfrom-Nto…N(assumeslinenumbers).ƒ*TheforwardtabcharacterischangedtoESC.‚Backwardtab…commandsareignoredintheSCROLL-MODEasbefore.ThesefeaturesarenotimplementedwhentheEXORtermF2keyisusedtoswitchfromCRTtoSCROLL-MODE,exceptfortheDELkey."2.Page1-10,underparagraph1.6.2,SCROLLMODE,changeTable1-4toread:‚TERMINALƒKEYS—DESCRIPTIONƒCTL-W…Pausetheprocessingofthislist.(CTRLandWkeys)ƒCTL-X…Cancelthisline.(CTRLandXkeys)ƒCTL-D…Redisplaythecurrentinputcharactersonthenextline.ƒCTL-H…SameasDELkeybelow.‚Someterminalshaveaseperatekeytotransmitthiscode(=$08backspace)whichisusuallyaleftarrowkey<-.„ESC†Echospacestomovetotherighttonexttabstop.(Forwardtab)„DEL†DeletepreviouscharacterandindicatesobyerasingitfromtheCRTscreen.ƒBREAK…Stopprocessing;awaitanewcommand.„F1‡ChangemodetoCRT-MODE.(Notfunctionalwiththe;Soption).„ChangeFIGURE1-4from:…COPYRIGHTBYMOTOROLA1978…EDITINGOLDFILE:LTR3„.SA:0WITHLINENUMBERS˜to…COPYRIGHTBYMOTOROLA1978…F…EDITINGOLDFILE:LTR3„.SA:0WITHLINENUMBERS3.Page2-8,underparagraph2.7,ECOMMAND,after„"Aneditorcommandthatwillterminatethiseditsessionandinitiate…theeditingofanothernamedfile.‚(Forcommandspecifics,see…INVOKINGTHEEDITOR,paragraph1.5)."˜addthefollowing:„"Iftabsareineffect,theywillremaininforceforeditingthenext…fileunlesstheuserspecifiesanewtaboptionortabcommand."4.Page2-11,underparagraph2.9,FINDCOMMAND,changeExample8from:ˆ„">F/SAM/cr"…to…">F/SAM/Acr"5.Page2-13,underparagraph2.11,LISTCOMMAND,changeExample6from:ƒ„"...startingfrom12thlineaftercurrentline"˜to„"...startingfrom4thlinepriortothecurrentline"6.Page2-14,underparagraph2.12,MERGECOMMAND,addthefollowingtothe„paragraphwhichstarts"TheVERTICALRANGE...":„"IfanycharacterotherthanY,y,N,ornisentered,thecommandwillbe„aborted."„NOTE:‚Thisappliesonlytoversions3.13andlater.‚Priorversions‹requiredaproperresponseandthustherewasnowaytoabort.7.Page2-15,underparagraph2.13,MOVECOMMAND,changeatthetopfrom:ƒ„"SYNTAX:„MOVE[VERTICALRANGE][/NEWLINENUMBER],NEWINCREMENT]]˜to„"SYNTAX:„MOVE[VERTICALRANGE][/NEWLINENUMBER[,NEWINCREMENT]]8.Page2-16,underparagraph2.14,NUMBERCOMMAND,changeExample3from:ƒ„">N100,1cr"…to†">N200,1cr"„andchangeExample4from:„"4.Insert3linesbaetween..."ƒtoƒ"4.Insert3linesbetween..."9.Page2-21,underparagraph2.19,SAVECOMMAND,change:…„"WHERE:…FILENAMEimpliesthatanextractfunctionistobeperformed."˜to„"WHERE:…FILENAMEimpliesthattheoutputbewrittentoanewfile."10.Page2-22,underparagraph2.20,SEARCHCOMMAND,change:„"SYNTAX:„SEARCH[STRING][A]"˜to„"SYNTAX:„SEARCH[.TRANSPARENTCHAR][STRING][A]"11.Page2-23,undersection2.21TABCOMMAND,replacetheparagraph„startingwith"WhennoCHARisspecified"withthefollowing:ƒ"WhennoCHARisspecified,thespecialtabfunctionisdisabled.„ThespecialtabrequestCHARisnotrecognizedwhentheEditoris„inthecommandinputmode.‚Thisissoitcanbeenteredasanormal„textcharacter.‚Iftabbingisdesiredonthecommandline,usethe„designatedtabkeys(EXORtermtabkeys,orESCkeyforother„terminals).‚UseofoneoftheEditorinvocationtabsettings(A,C,„F)willsetthespecialtabrequestCHARtothespacebar.‚See„section1.5INVOKINGTHEEDITOR.„Alltabs,includingthespecialtabCHAR,areresetbyenteringa„TABcommandwithnoparameters.‚The1to20COUNTN'sspecified„mustbeseparatedbycommas.‚TheCOUNTNvalueswilladdadditional„tabstopsuptothemaximumof20.‚Thereisalwaysatabstopat„column1,soitdoesnothavetobeentered.‚Sincespacesentered„viaatabrequestareidenticalinternallytospacesenteredvia„thespacebarkey,thefull4digitlinenumbermustbeenteredin„thelinenumberedmodeiffollowedbyatabrequesttocolumn1.„Thisinsuresthatcolumn1informationwillbeplacedincolumn1of„thefile."12.PageA-6,under"ASSEMBLEPROGRAM2",changeatthetopfrom:ƒ„"=RASMDIST1;L(cr)..."…to„"=RASMDIST2;L(cr)..."--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--**KNOWNERRORS**1.Occasionally,wheneditingintheSCROLLmode,garbagelines„maybeappendedtotheendofthefile.‚2.OccasionallywhenrunningovertheendofalineinSCROLLmode,„thuscreatingablankline,apreviouslyenteredlinemaybe„deletedafter(1)theblanklineisdeletedand(2)function„functionkeyone(F1)isdepressed.3.Verifyconditionsetsandresetsunderconditionsthatasyet„havenotbeendefined.4.Aspacecharacterissometimesrequiredinthecommandsyntax„betweensyntacticalelementstopreventsyntaxerrorsunder„conditionsthatasyethavenotbeendefined.„Example:ƒ>C100:30-60/SAM/BILL/†givessyntaxerror>C100:30-60/SAM/BILL/…noerror>EX100/./’givessyntaxerror>EX100/./‘noerror5.Inscrollmodewhenenteringtextintoanewfilewithoutlinenumbers,„thecurrentlinecanbecomeoffbyoneasfollows:†>ABCinsert3lines†>DEF†>GHIAB†>‘exitw/returnonly†>F-1enterfindcommand†GHIAB†>C/AB//Šchangecurrentline(actuallychanges)†DEFcurrentlinehaschanged!†>L*-2†DEFnewcurrentline†GHI6.Whenaddingacharactertothelastcolumnofanewlineinthe„CRTmode,thatlinewillsometimesdisappearastheeditorauto-„maticallycreatesthenextline.‚Thelineisstillpresent„internally.‚Itisjustnotdisplayed.‚Hitting"F4"andthen"F3"„willredisplaytheline.‚Linescontainingatleastoneblankand„endingin"M"or"E"aremorelikelytodothis.‹(#147)7.ProblemwheneditingafilewithlinenumbersinCRT-MODE:„A"MOVEmmm-nnn/xxx"commandwherethecurrentlineisbeyond"mmm"„willonlyduplicateanddeletethespecifiedlinenumber(s),and„notalsoextractthemto"xxx".‚Thusdatacouldbelostfromthe„fileunlesstheusermanuallydoesanXTRACTcommand("Xxxx")„beforetheextractbufferischanged.‚Doa"F0"commandorhit„functionkey"F2"priortoanyMOVEcommandsofthistypefora„temporaryfix.‚OrmanuallydotheXTRACTcommand.Š(#178)**ENDKNOWNERRORS**--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--**HELPFULHINTS:1.The"FIND"commandwitharepititioncountgreaterthanone„willnotdisplaythelastoccurence,sinceithaspositioned„theeditortothislastoccurence.2.Iftheeditorcrashes,thereisno"warm"startrecovery„procedure.‚However,usefulinformationmaybepresentinthe„SCRATCH1.SAtemporaryfile.‚Ifyouwanttoeditthisfile,it„mustberenamedfirst(seeMDOS"NAME"command).3.Wheneditingafilewiththe'A'optionandthedefaulttab„characteristhespacebar,spacesinsertedpastthelasttab„stoparenotsavedinthefile.‚ThisisbecausetheSPACE„characterisnowaTABcharacter.‚ChangetheTABcharacterto„anon-spacecharacterfortemporaryfix(seeECUSTOM.CFfile).4.Theeditorcanleavetrailingblanksontheendofsomelines,„dependinguponthesequenceofcommandsenteredandtheEXORterm„firmwarepresent.‚Thisnormallydoesnotcauseanyproblems„exceptforcertaincommandlinesinchainfiles.†5.‚Withversion3.1XoftheCRTEditor(E.CM),whereX>=3,certain…newcustomizingfeaturesareavailable.‚Listthecustomizingchain…filebyenteringŠ=LISTECUSTOM.CF;Lˆforprinter‘orŠ=LISTECUSTOM.CFŠforconsole…forinstructionsonhowtoexecuteit.ƒ********************************************************************ƒ**CAUTION:‚DONOTREMOVEANYDISKSFROMTHESYSTEMOROPENTHE‚**ƒ**ƒDRIVEDOORWHILETHECRTEDITORISINOPERATIONDUETO‡**ƒ**ƒPOSSIBLESCRATCHFILESONANYDRIVES.‚ADISKERRORWILL…**ƒ**ƒCAUSETHEEDITORTOCRASH.£**ƒ**À**ƒ**CAUTION:‚DONOTINVOKETHECRTEDITORWHENACOBOLDISKIS„**ƒ**ƒINANYDRIVE.‚COBOLDISKSARENON-MDOSCOMPATIBLE(FMS†**ƒ**ƒFORMAT)ANDWILLBEDESTROYEDWHENTHECRTEDITORCREATESA‚**ƒ**ƒSCRATCHFILEONIT.ª**ƒ**********************************************************************ENDHINTS**===========================================================================**6800RASMNEWS**(RASM.CMƒ3.01)**KNOWNERRORS**1.THE'ENDM'DIRECTIVETERMINATESCONDITIONALASSEMBLY.„TEMPORARYFIXISASFOLLOWS:†=PATCHRASM.CM:1†>0/21˜†>4310,F64/20‘(WAS$26)†>Q„THISWILLCAUSEALL"ENDM"DIRECTIVESINSIDEUNASSEMBLED„CONDITIONALCODETOBEIGNORED.‚THUSMACRODEFINITIONSMUST„NOTSTRADDLECONDITIONALSORERROR#251MAYOCCUR.2.NOERRORGENERATEDIF'END'DIRECTIVEEXPRESSIONIS„EXTERNAL.‚GENERATES$0000.3.MULTIPLYDEFINEDSYMBOLSCAUSEIMPROPERGENERATIONOF„PHASEERRORS(#220).**ENDKNOWNERRORS**--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--‚--**EOF**                åååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååååå